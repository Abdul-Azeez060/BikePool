<% layout('./layout/boilerplate') -%>
<style>
  #role {
    margin-bottom: 0.5rem;
  }
</style>
<div class="container p-3 mt-3">
  <h3>Login</h3>
  <form
    action="/user/login/successfull"
    class="needs-validation"
    method="post"
    novalidate>
    <div class="mb-3">
      <div class="form-check">
        <input
          class="form-check-input"
          type="radio"
          name="role"
          id="driver"
          value="driver" />
        <label class="form-check-label" for="driver"> Driver </label>
      </div>

      <div class="form-check">
        <input
          class="form-check-input"
          type="radio"
          name="role"
          id="user"
          value="user"
          checked />
        <label class="form-check-label" for="user"> User </label>
      </div>
    </div>
    <div class="col-md mb-3">
      <label for="phone" class="form-label"
        >Please validate your Phone Number</label
      >
      <input
        style="display: none"
        type="number"
        id="phone"
        name="phone"
        class="form-control"
        required />
      <div class="pe_signin_button" data-client-id="11494476566363047393">
        <script
          src="https://www.phone.email/sign_in_button_v1.js"
          async></script>
      </div>
      <div class="invalid-feedback">Please enter your mobile number</div>
    </div>
    <button type="submit" class="btn btn-outline-primary">Submit</button>
  </form>
</div>
<script>
  // Example starter JavaScript for disabling form submissions if there are invalid fields
  (() => {
    "use strict";

    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    const forms = document.querySelectorAll(".needs-validation");

    // Loop over them and prevent submission
    Array.from(forms).forEach((form) => {
      form.addEventListener(
        "submit",
        (event) => {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }

          form.classList.add("was-validated");
        },
        false
      );
    });
  })();
</script>
